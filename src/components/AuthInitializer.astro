<script>
  // eslint-disable-next-line
  import { getSupabaseClient } from "@/lib/supabase/client";

  // Skrypt do obsługi zmiany stanu autoryzacji
  window.addEventListener("load", () => {
    const supabase = getSupabaseClient();

    // Nasłuchuj na zmiany w stanie autoryzacji
    supabase.auth.onAuthStateChange((event) => {
      if (event === "SIGNED_IN") {
        // Odśwież stronę po zalogowaniu
        window.location.reload();
      } else if (event === "SIGNED_OUT") {
        // Wyczyść token i przekieruj
        window.location.href = "/auth/login";
      }
    });
  });
</script>
